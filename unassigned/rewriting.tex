% \input{3-grammar.tex}

\section{Rewriting}
In summary we introduced what passes as function evaluation 
in our usual $f(x)\defeq \ldots$ form and saw that it was in fact 
a mirage.  In retrospect, substitution leaves the overall structure 
intact whereas functions are instead tasked with transforming data.
So the idea was doomed from the start.  Even so the conventions now 
are so common as to require correctness to yield to history.
Let me therefore declare that whenever in this text or generally 
elsewhere we see or engage the use a function
\[
    f(x)\defeq M
\]
or even in code as 
\begin{Pcode}[]
def f(x) = M
\end{Pcode}
it is understood to mean $f:x\mapsto M$ and furthermore:
\[
    f(c) \defeq M[x\leftrightarrows c].
\]

\subsection{Abstract Rewriting Systems}
To truly rewrite data we need 
conversions and reductions, or what collectively we call \emph{rewriting}.
\index{rewriting}

Rewriting 
occurs everywhere from the evaluation of operators like we explored her, 
to multiplying in groups, to calculating algebraic geometry properties through 
Gr\"obner-Shirshov bases.  The strategies of rewriting evolve with every context 
but most have an arc similar to the one we pursue in this chapter.  Start by 
considering the order in which you rewrite.  Make it a partial order or at 
least a directed graph.  Search for confluence: places where branches meet back
together.  When enough confluence exists look for a reason for finite rewriting 
to reach a normal form---a unique lowest point, subject to the order we introduce.
Finally, when normal form exist the work begins to get that normal form efficiently.
Above all notice how many possible points of failure there are in effective 
rewriting.  

\subsection{Normal Forms in general}\index{normal form}

\subsection{Word problems}\index{word problem}

\subsection{General situation}

As a general intuition treat rewriting as undecidable, but if decidable 
then it will be exponentially hard, but if it can be rewritten efficiently 
then it was never rewriting---it was linear algebra disguise.